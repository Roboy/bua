



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Context - Ravestate</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Ravestate" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Ravestate
            </span>
            <span class="md-header-nav__topic">
              Context
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Ravestate" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Ravestate
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_nlp/" title="NLP" class="md-nav__link">
      NLP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_wildtalk/" title="Wildtalk" class="md-nav__link">
      Wildtalk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_ros1/" title="ROS" class="md-nav__link">
      ROS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_verbaliser/" title="Verbaliser" class="md-nav__link">
      Verbaliser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_telegramio/" title="TelegramIO" class="md-nav__link">
      TelegramIO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_visionio/" title="VisionIO" class="md-nav__link">
      VisionIO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_akinator/" title="Akinator" class="md-nav__link">
      Akinator
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/ravestate_nlp/luigi/" title="NLP: The Ice Cream Salesman" class="md-nav__link">
      NLP: The Ice Cream Salesman
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../states/" title="States" class="md-nav__link">
      States
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../properties/" title="Properties" class="md-nav__link">
      Properties
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
    <a href="./" title="Context" class="md-nav__link md-nav__link--active">
      Context
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="ravestate.context">ravestate.context</h1>

<h2 id="ravestate.context.create_and_run_context">create_and_run_context</h2>

<div class="codehilite"><pre><span></span><span class="n">create_and_run_context</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">runtime_overrides</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>


<p>Creates a new Context with the given parameters and runs it</p>
<h2 id="ravestate.context.Context">Context</h2>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arguments</span><span class="p">,</span> <span class="n">runtime_overrides</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>


<h3 id="ravestate.context.Context.emit">emit</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signal</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">ravestate</span><span class="o">.</span><span class="n">spike</span><span class="o">.</span><span class="n">Spike</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">wipe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Emit a signal to the signal processing loop. <em>Note:</em>
 The signal will only be processed if <code>run()</code> has been called!</p>
<ul>
<li>
<p><code>signal</code>: The signal to be emitted.</p>
</li>
<li>
<p><code>parents</code>: The signal's parents, if it is supposed to be integrated into a causal group.</p>
</li>
<li>
<p><code>wipe</code>: Boolean to control, whether <code>wipe</code>(signal) should be called
 before the new spike is created.</p>
</li>
<li>
<p><code>payload</code>: Value that should be embedded in the new spike.</p>
</li>
</ul>
<h3 id="ravestate.context.Context.wipe">wipe</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signal</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">)</span>
</pre></div>


<p>Delete all spikes for the given signal. Partially fulfilled states
 that have acquired an affected spike will be forced to reject it.
Wiping a parent spike will also wipe all child spikes.</p>
<ul>
<li><code>signal</code>: The signal for which all existing spikes (and their children)
 should be invalidated and forgotten.</li>
</ul>
<h3 id="ravestate.context.Context.run">run</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Creates a signal processing thread, starts it, and emits the core:startup signal.</p>
<h3 id="ravestate.context.Context.shutting_down">shutting_down</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">shutting_down</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Retrieve the shutdown flag value, which indicates whether shutdown() has been called.</p>
<h3 id="ravestate.context.Context.shutdown">shutdown</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Sets the shutdown flag and waits for the signal processing thread to join.</p>
<h3 id="ravestate.context.Context.add_module">add_module</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">add_module</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Add a module by python module folder name, or by ravestate module name.</p>
<ul>
<li><code>module_name</code>: The name of the module to be added. If it is the
 name of a python module that has not been imported yet, the python module
 will be imported, and any ravestate modules registered during the python
 import will also be added to this context.</li>
</ul>
<h3 id="ravestate.context.Context.add_state">add_state</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">add_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">st</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Add a state to this context. It will be indexed wrt/ the properties/signals
 it depends on. Error messages will be generated for unknown signals/properties.</p>
<ul>
<li><code>st</code>: The state which should be added to this context.</li>
</ul>
<h3 id="ravestate.context.Context.rm_state">rm_state</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">rm_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">st</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Remove a state from this context. Note, that any state which is constrained
 on the signal that is emitted by the deleted state will also be deleted.</p>
<ul>
<li><code>st</code>: The state to remove. An error message will be generated,
 if the state was not previously added to this context with add_state().</li>
</ul>
<h3 id="ravestate.context.Context.add_prop">add_prop</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">add_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prop</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">property</span><span class="o">.</span><span class="n">Property</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Add a copy of a property to this context. An error message will be generated, if a property with
 the same name has already been added previously. Note: Context will adopt a <strong>copy</strong>
 of the given property, the actual property will not be changed.</p>
<ul>
<li><code>prop</code>: The property object that should be added.</li>
</ul>
<h3 id="ravestate.context.Context.rm_prop">rm_prop</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">rm_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">prop</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">property</span><span class="o">.</span><span class="n">Property</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Remove a property from this context.
Generates error message, if the property was not added with add_prop() to the context previously</p>
<ul>
<li><code>prop</code>: The property to remove.object</li>
</ul>
<h3 id="ravestate.context.Context.conf">conf</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">conf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">mod</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</pre></div>


<p>Get a single config value, or all config values for a particular module.</p>
<ul>
<li>
<p><code>mod</code>: The module whose configuration should be retrieved.</p>
</li>
<li>
<p><code>key</code>: A specific config key of the given module, if only a single
 config value should be retrieved.</p>
</li>
</ul>
<p><strong>Returns:</strong> The value of a single config entry if key and module are both
 specified and valid, or a dictionary of config entries if only the
 module name is specified (and valid).</p>
<h3 id="ravestate.context.Context.signal_specificity">signal_specificity</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">signal_specificity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span>
</pre></div>


<p>Called by state activation to determine it's constraint's specificity.</p>
<ul>
<li><code>sig</code>: The signal whose specificity should be returned.</li>
</ul>
<p><strong>Returns:</strong> The given signal's specificity.</p>
<h3 id="ravestate.context.Context.reacquire">reacquire</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">reacquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">act</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">)</span>
</pre></div>


<p>Called by activation, to indicate, that it needs a new Spike
 for the specified signal, and should for this purpose be referenced by context.
Note: Not thread-safe, sync must be guaranteed by caller.</p>
<ul>
<li>
<p><code>act</code>: The activation that needs a new spike of the specified nature.</p>
</li>
<li>
<p><code>sig</code>: Signal type for which a new spike is needed.</p>
</li>
</ul>
<h3 id="ravestate.context.Context.withdraw">withdraw</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">act</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">)</span>
</pre></div>


<p>Called by activation to make sure that it isn't referenced
 anymore as looking for the specified signal.
This might be, because the activation chose to eliminate itself
 due to activation pressure, or because one of the activations
 conjunctions was fulfilled, so it is no longer looking for
 signals to fulfill the remaining conjunctions.
Note: Not thread-safe, sync must be guaranteed by caller.</p>
<ul>
<li>
<p><code>act</code>: The activation that has lost interest in the specified signal.</p>
</li>
<li>
<p><code>sig</code>: Signal type for which interest is lost.</p>
</li>
</ul>
<h3 id="ravestate.context.Context.secs_to_ticks">secs_to_ticks</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">secs_to_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</pre></div>


<p>Convert seconds to an equivalent integer number of ticks,
 given this context's tick rate.</p>
<ul>
<li><code>seconds</code>: Seconds to convert to ticks.</li>
</ul>
<p><strong>Returns:</strong> An integer tick count.</p>
<h3 id="ravestate.context.Context.possible_signals">possible_signals</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">possible_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">ravestate</span><span class="o">.</span><span class="n">constraint</span><span class="o">.</span><span class="n">Signal</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>
</pre></div>


<p>Yields all signals, for which spikes may be created if
 the given state is executed.</p>
<ul>
<li><code>state</code>: The state, which should be analyzed for it's
 possibly generated signals (declared signal + property-changed signals).</li>
</ul>
<h3 id="ravestate.context.Context.run_once">run_once</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">run_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seconds_passed</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Run a single update for this context, which will ...<br>
(0) progress cooled down state weights.<br>
(1) reduce redundant candidate activations.<br>
(2) associate new spikes with state activations.<br>
(3) update state activations.<br>
(4) forget spikes which have no suitors in their causal groups.<br>
(5) age spikes.<br>
(6) invoke garbage collection.<br>
(7) update the <code>core:activity</code> and <code>core:pressure</code> variables.</p>
<ul>
<li><code>seconds_passed</code>: Seconds, as floatiing point, since the last update. Will be used
 to determine the number of ticks to add/subtract to/from spike/activation age/cooldown/deathclock.</li>
</ul>
<h3 id="ravestate.context.Context.test">test</h3>

<div class="codehilite"><pre><span></span><span class="n">Context</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Execute internal integrity checks.</p>
<h1 id="ravestate.spike">ravestate.spike</h1>

<h2 id="ravestate.spike.Spike">Spike</h2>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parents</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">ForwardRef</span><span class="p">(</span><span class="s1">&#39;Spike&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">consumable_resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>


<p>This class encapsulates a single spike, to track ... <br>
... it's consumption for different output properties (through <code>CausalGroup</code>). <br>
... it's offspring instances (causal group -&gt; spikes caused by this spike)</p>
<h3 id="ravestate.spike.Spike.causal_group">causal_group</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">causal_group</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">causal</span><span class="o">.</span><span class="n">CausalGroup</span>
</pre></div>


<p>Get this spike's causal group.</p>
<p><strong>Returns:</strong> This instances causal group. Should never be None.</p>
<h3 id="ravestate.spike.Spike.adopt">adopt</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">adopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s1">&#39;Spike&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called in spike constructor, for instances which claim to be
 caused by this spike.</p>
<ul>
<li><code>child</code>: The child to add to this spike's causal group.</li>
</ul>
<h3 id="ravestate.spike.Spike.wiped">wiped</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">wiped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s1">&#39;ISpike&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called by an offspring signal, to notify the spike
 that it was wiped, and should therefore be removed from the children set.</p>
<ul>
<li><code>child</code>: The child to be forgotten.</li>
</ul>
<h3 id="ravestate.spike.Spike.wipe">wipe</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">wipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">already_wiped_in_causal_group</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called either in Context run loop when the spike is found to be stale
 (with wiped_in_causal_group=True), or in Context.wipe(spike),
 or by parent (recursively).
After this function is called, the spike should be cleaned up by GC.</p>
<ul>
<li><code>already_wiped_in_causal_group</code>: Boolean which indicates, whether wiped(spike)
 must still be called on the group to make sure sure that no dangling references
 to the spike are maintained by any state activations.</li>
</ul>
<h3 id="ravestate.spike.Spike.has_offspring">has_offspring</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">has_offspring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>


<p>Called by CausalGroup.stale(spike).</p>
<p><strong>Returns:</strong> True if the spike has active offspring, false otherwise.</p>
<h3 id="ravestate.spike.Spike.tick">tick</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Increment this spike's age by 1.</p>
<h3 id="ravestate.spike.Spike.age">age</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">age</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</pre></div>


<p>Obtain this spike's age (in ticks).</p>
<h3 id="ravestate.spike.Spike.offspring">offspring</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">offspring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">ForwardRef</span><span class="p">(</span><span class="s1">&#39;Spike&#39;</span><span class="p">),</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>
</pre></div>


<p>Recursively yields this spike's offspring and it's children's offspring.</p>
<p><strong>Returns:</strong> All of this spike's offspring spikes.</p>
<h3 id="ravestate.spike.Spike.is_wiped">is_wiped</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">is_wiped</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>


<p>Check, whether this spike has been wiped, and should therefore not be acquired anymore.</p>
<h3 id="ravestate.spike.Spike.payload">payload</h3>

<div class="codehilite"><pre><span></span><span class="n">Spike</span><span class="o">.</span><span class="n">payload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</pre></div>


<p>Get payload for this spike. The payload is an arbitrary value passed in <code>Context.emit()</code>.</p>
<h1 id="ravestate.activation">ravestate.activation</h1>

<h2 id="ravestate.activation.Activation">Activation</h2>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">st</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">State</span><span class="p">,</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">icontext</span><span class="o">.</span><span class="n">IContext</span><span class="p">)</span>
</pre></div>


<p>Encapsulates the potential activation of a state. Tracks the collection
 of Spikes to fulfill of the state-defined activation constraints.</p>
<h3 id="ravestate.activation.Activation.resources">resources</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</pre></div>


<p>Return's the set of the activation's write-access property names.</p>
<h3 id="ravestate.activation.Activation.specificity">specificity</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">specificity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span>
</pre></div>


<p>Returns the lowest specificity among the specificity values of the
 activation's conjunct constraints. The specificity for a single conjunction
 is calculated as the sum of it's component signal's specificities,
 which in turn is calculated as one over the signal's subscriber count.</p>
<h3 id="ravestate.activation.Activation.dereference">dereference</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">dereference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">ISpike</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">reacquire</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">reject</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">pressured</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Notify the activation, that a single or all spike(s) are not available
 anymore, and should therefore not be referenced anymore by the activation.
This is called by ... <br>
... context when a state is deleted. <br>
... causal group, when a referenced signal was consumed for a required property. <br>
... causal group, when a referenced signal was wiped. <br>
... this activation (with reacquire=True and pressured=True), if it gives in to activation pressure.</p>
<ul>
<li>
<p><code>spike</code>: The spike that should be forgotten by the activation, or
 none, if all referenced spikes should be forgotten.</p>
</li>
<li>
<p><code>reacquire</code>: Flag which tells the function, whether for every rejected
 spike, the activation should hook into context for reacquisition
 of a replacement spike.</p>
</li>
<li>
<p><code>reject</code>: Flag which controls, whether de-referenced spikes
 should be explicitely rejected through their causal groups.</p>
</li>
<li>
<p><code>pressured</code>: Flag which controls, whether de-referencing should only occur
 for spikes of causal groups in the pressuring_causal_groups set.</p>
</li>
</ul>
<h3 id="ravestate.activation.Activation.acquire">acquire</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">spike</span><span class="o">.</span><span class="n">Spike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Let the activation acquire a signal it is registered to be interested in.</p>
<ul>
<li><code>spike</code>: The signal which should fulfill at least one of this activation's
 signal constraints.</li>
</ul>
<p><strong>Returns:</strong> True if the spike was acquired by at least one signal,
 false if acquisition failed: This may happen for multiple reasons:
   (1) Acquisition failed, because the spike is too old
   (2) Acquisition failed, because the spike's causal group does not
    match it's completions.
   (3) Acquisition failed, because the spike's causal group does not
    offer all of this activation's state's write-props.</p>
<h3 id="ravestate.activation.Activation.secs_to_ticks">secs_to_ticks</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">secs_to_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</pre></div>


<p>Convert seconds to an equivalent integer number of ticks,
 given this activation's tick rate.</p>
<ul>
<li><code>seconds</code>: Seconds to convert to ticks.</li>
</ul>
<p><strong>Returns:</strong> An integer tick count.</p>
<h3 id="ravestate.activation.Activation.pressure">pressure</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">give_me_up</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">ICausalGroup</span><span class="p">)</span>
</pre></div>


<p>Called by CausalGroup, to pressure the activation to
 make a decision on whether it is going to retain a reference
 to the given spike, given that there is a lower-
 specificity activation which is ready to run.</p>
<ul>
<li><code>give_me_up</code>: Causal group that wishes to be de-referenced by this activation.</li>
</ul>
<h3 id="ravestate.activation.Activation.is_pressured">is_pressured</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">is_pressured</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>


<p>Called by context, to figure out whether the activation is pressured,
 and therefore the idle:bored signal should be emitted.</p>
<h3 id="ravestate.activation.Activation.spiky">spiky</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">spiky</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Returns true, if the activation has acquired any spikes at all.</p>
<p><strong>Returns:</strong> True, if any of this activation's constraint's
 signal is referencing a spike.</p>
<h3 id="ravestate.activation.Activation.boring">boring</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">boring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Returns True, if the activation's state is boring. Called by
 context, to figure out whether this activation counts towards
 the system not setting the <code>idle:bored</code> property  to True.</p>
<p><strong>Returns:</strong> True, if the state assigned to this activation has
 the <code>boring</code> field set to true, False otherwise.</p>
<h3 id="ravestate.activation.Activation.spikes">spikes</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">spikes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">ravestate</span><span class="o">.</span><span class="n">spike</span><span class="o">.</span><span class="n">Spike</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>
</pre></div>


<p>Returns iterable for all the spikes currently acquired by the activation.</p>
<h3 id="ravestate.activation.Activation.possible_signals">possible_signals</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">possible_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">ForwardRef</span><span class="p">(</span><span class="s1">&#39;Signal&#39;</span><span class="p">),</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>
</pre></div>


<p>Yields all signals, for which spikes may be created if
 this activation's state is executed.</p>
<h3 id="ravestate.activation.Activation.effect_not_caused">effect_not_caused</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">effect_not_caused</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">ICausalGroup</span><span class="p">,</span> <span class="n">effect</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Notify the activation, that a follow-up signal will not be produced
 by the given causal group. The activation will go through it's constraint,
 and reject all completion spikes for signals of name <code>effect</code>, if the completion
 spikes are from the given causal group.</p>
<ul>
<li><code>group</code>: The causal group which will not contain a spike for signal <code>effect</code>.</li>
<li><code>effect</code>: Name of the signal for which no spike will be produced.</li>
</ul>
<h3 id="ravestate.activation.Activation.update">update</h3>

<div class="codehilite"><pre><span></span><span class="n">Activation</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Called once per tick on this activation, to give it a chance to activate
 itself, or auto-eliminate, or reject spikes which have become too old.</p>
<p><strong>Returns:</strong> True, if the target state is activated and teh activation be forgotten,
 false if needs further attention in the form of updates() by context in the future.</p>
<h1 id="ravestate.causal">ravestate.causal</h1>

<h2 id="ravestate.causal.CausalGroup">CausalGroup</h2>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span>
</pre></div>


<p>Class which represents a causal group graph of spike parent/offspring
 spikes (a "superspike"). These must synchronize wrt/ their (un)written
 properties and state activation candidates, such that they don't cause output races.</p>
<p>Note: Always use a <code>with ...</code> construct to interact with a causal group.
 Otherwise, undefined behavior may occur due to race conditions.</p>
<h3 id="ravestate.causal.CausalGroup.merge">merge</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;CausalGroup&#39;</span><span class="p">)</span>
</pre></div>


<p>Merge this causal group with another. Unwritten props will become
 the set intersection of this group's unwritten props and
 other's unwritten props. consumed() will be called with
 all properties that are consumed by other, but not this.
Afterwards, other's member objects will be set to this's.</p>
<h3 id="ravestate.causal.CausalGroup.acquired">acquired</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">acquired</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="s1">&#39;ISpike&#39;</span><span class="p">,</span> <span class="n">acquired_by</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">,</span> <span class="n">detached</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Called by Activation to notify the causal group, that
 it is being referenced by an activation constraint for a certain member spike.</p>
<ul>
<li>
<p><code>spike</code>: State activation instance, which is now being
 referenced by the specified causal group.</p>
</li>
<li>
<p><code>acquired_by</code>: State activation instance,
 which is interested in this property.</p>
</li>
<li>
<p><code>detached</code>: Tells the causal group, whether the reference is detached,
  and should therefore receive special treatment.</p>
</li>
</ul>
<p><strong>Returns:</strong> Returns True if all of the acquiring's write-props are
 free, and the group now refs. the activation, False otherwise.</p>
<h3 id="ravestate.causal.CausalGroup.rejected">rejected</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">rejected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="s1">&#39;ISpike&#39;</span><span class="p">,</span> <span class="n">rejected_by</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">,</span> <span class="n">reason</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called by a state activation, to notify the group that a member spike
 is no longer being referenced for the given state's write props.
This may be because ... <br>
... the activation's dereference function was called. (reason=0) <br>
... the spike got too old. (reason=1) <br>
... the activation happened and is dereferencing it's spikes. (reason=2)</p>
<ul>
<li>
<p><code>spike</code>: The member spike whose ref-set should be reduced.</p>
</li>
<li>
<p><code>rejected_by</code>: State activation instance, which is no longer
 interested in this property.</p>
</li>
<li>
<p><code>reason</code>: See about.</p>
</li>
</ul>
<h3 id="ravestate.causal.CausalGroup.consent">consent</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">consent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ready_suitor</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Called by constraint, to inquire whether this causal group would happily
 be consumed for the given state activation's properties.
This will be called periodically on the group by state activations
 that are ready to go. Therefore, a False return value from this
 function is never a final judgement (more like a "maybe later").</p>
<ul>
<li><code>ready_suitor</code>: The state activation which would like to consume
 this instance for it's write props.</li>
</ul>
<p><strong>Returns:</strong> True if this instance agrees to proceeding with the given consumer
 for the consumer's write props, False otherwise.</p>
<h3 id="ravestate.causal.CausalGroup.activated">activated</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">act</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">)</span>
</pre></div>


<p>Called by activation which previously received a go-ahead
 from consent(), when it is truly proceeding with
 running (after it got the go-ahead from all it's depended=on
 causal groups).</p>
<ul>
<li><code>act</code>: The activation that is now running.</li>
</ul>
<h3 id="ravestate.causal.CausalGroup.resigned">resigned</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">resigned</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">act</span><span class="p">:</span> <span class="n">ravestate</span><span class="o">.</span><span class="n">iactivation</span><span class="o">.</span><span class="n">IActivation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called by activation, to let the causal group know that it failed,
 and a less specific activation may now be considered for
 the resigned state's write props.</p>
<ul>
<li><code>act</code>: The activation that is unexpectedly not consuming it's resources,
 because it's state resigned/failed.</li>
</ul>
<h3 id="ravestate.causal.CausalGroup.consumed">consumed</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">consumed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called by activation to notify the group, that it has been
 consumed for the given set of properties.</p>
<ul>
<li><code>resources</code>: The properties which have been consumed.</li>
</ul>
<h3 id="ravestate.causal.CausalGroup.wiped">wiped</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">wiped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="s1">&#39;ISpike&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span>
</pre></div>


<p>Called by a spike, to notify the causal group that
 the instance was wiped and should no longer be remembered.</p>
<ul>
<li><code>spike</code>: The instance that should be henceforth forgotten.</li>
</ul>
<h3 id="ravestate.causal.CausalGroup.stale">stale</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">stale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spike</span><span class="p">:</span> <span class="s1">&#39;ISpike&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Determine, whether a spike is stale (has no
remaining interested activations and no children).</p>
<p><strong>Returns:</strong> True, if no activations reference the given
 spike for any unwritten property. False otherwise.</p>
<h3 id="ravestate.causal.CausalGroup.check_reference_sanity">check_reference_sanity</h3>

<div class="codehilite"><pre><span></span><span class="n">CausalGroup</span><span class="o">.</span><span class="n">check_reference_sanity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</pre></div>


<p>Make sure, that the refcount-per-act-per-spike-per-resource value sum
 is equal to the number of spikes from this causal group acquired per activation
 for each activation in the index.
:return: True if the criterion is fulfilled, False otherwise.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../properties/" title="Properties" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Properties
              </span>
            </div>
          </a>
        
        
          <a href="../config/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>